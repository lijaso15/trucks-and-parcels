(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,n){e.exports=n(303)},142:function(e,t,n){},143:function(e,t,n){},155:function(e,t){},303:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(45),l=n.n(i),c=(n(142),n(3)),o=n(4),u=n(7),s=n(5),d=n(6),p=(n(143),n(11)),h=n(12),m=n(15),f=n(8),v=n(24),y=n.n(v),b=5,E=function(e,t,n,a,r,i){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:b;return"ADD"===e&&b++,{type:e+"_POINT",id:l,x:t,y:n,name:r,isTruck:i,value:a}},g=function(e){return{type:"MENU_"+e}},O=function(e){return{type:"CLEAR_"+e}},j=function(e){return{type:e}},k=function(e,t){return{type:e,value:t}},w=n(133),T=n(85),_=n.n(T),P=n(86),S=n.n(P),x=(n(65),n(87)),A=n.n(x),N=(n(48),n(88)),C=n.n(N),D=n(89),M=n.n(D),R=n(90),L=n.n(R),I=n(49),q=n.n(I),U=function(e,t){var n=[],a=[],r=[];e.map(function(e){n.push(new _.a(e.x,e.y,e.name)),e.isTruck?a.push(new C.a(e.id,e.name,e.value)):r.push(new A.a(e.id,e.name,e.name,e.value))});var i=new S.a;i.cities=n;var l,c=i.transformToDistanceMap();switch(a.map(function(e){return e.dm=c}),t.algorithm){case"greedy":l=new L.a(r,a,t.parcelPriority,t.parcelOrder,t.truckOrder);break;case"random":l=new M.a(r,a);break;default:(l=new q.a(a)).parcels=r}var o,u=l.schedule();switch(document.querySelector("#router").selectedIndex){case 2:o="NAIVE";break;case 3:o="RANDOM";break;case 4:o="GREEDY";break;default:o=""}return a.map(function(e){e.route=l.route(e.parcels,o,e)}),{trucks:a,extra:u,cities:n,parcels:r,algorithm:o,loadingConfig:t,time:new Date}},z=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).drawPoints=n.drawPoints.bind(Object(h.a)(n)),n.drawPointsPath=n.drawPointsPath.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.drawPoints()}},{key:"componentDidUpdate",value:function(){if(this.props.active)if(this.drawPoints(),this.props.drawPath)for(this.drawPointsPath();document.querySelector("#chart").childElementCount>2;)document.querySelector("#chart").firstChild.remove();else for(;document.querySelector("#chart").childElementCount>1;)document.querySelector("#chart").firstChild.remove()}},{key:"drawPoints",value:function(){var e=y()(window).height()-48,t=this.props.isFullSize?y()(window).width()-13:y()(window).width()-.25*y()(window).width(),n=m.e("#chart").append("svg").attr("width",t).attr("height",e),a=this.props.points.map(function(e){return e.x}),r=this.props.points.map(function(e){return e.y}),i=m.c(a)>m.c(r)?m.c(a):m.c(r),l=m.d([0,1.1*i],[0,t]),c=m.d([0,1.1*i],[e,0]),o=m.b().scale(c);n.append("g").attr("transform","translate(30, -20)").call(o);var u=m.a().scale(l);n.append("g").attr("transform","translate(30,"+(e-20)+")").call(u);var s=this.props.points.filter(function(e){return"number"===typeof e.x&&"number"===typeof e.y&&"number"===typeof e.value}).map(function(e){return Object(p.a)({},e,{scaledX:l(e.x),scaledY:c(e.y)})});this.props.called||this.props.setData(s);var d=Object(w.a)().attr("class","d3-tip").html(function(e){return e.name+": ("+String(e.x)+", "+String(e.y)+" )"});n.call(d),n.selectAll("circle").data(s).enter().append("circle").attr("transform","translate(30, -20)").on("mouseover",d.show).on("mouseout",d.hide).attr("cx",function(e){return e.scaledX}).attr("cy",function(e){return e.scaledY}).attr("r",function(e){return 7}).style("fill",function(e){return e.isTruck?"hsl(48, 100%, 67%)":"hsl(217, 71%, 53%)"})}},{key:"drawPointsPath",value:function(){var e=this,t=y()(window).height()-32,n=this.props.isFullSize?y()(window).width()-13:y()(window).width()-.25*y()(window).width(),a=m.e("#chart").append("svg").attr("width",n).attr("height",t);U(this.props.data,this.props.config).trucks.map(function(t){var n=[t.tid];t.route.map(function(e){n.push(e.pid)}),(n=n.map(function(t){return e.props.data.filter(function(e){return e.id===t})[0]})).push(e.props.data.filter(function(e){return e.id===t.tid})[0]);for(var r=0;r<n.length-1;r++)a.append("line").attr("x1",n[r].scaledX).attr("y1",n[r].scaledY).attr("x2",n[r+1].scaledX).attr("y2",n[r+1].scaledY).attr("stroke-width",2).attr("stroke","black").attr("transform","translate(30, -20)")})}},{key:"render",value:function(){var e=this.props,t=e.isFullSize,n=e.drawPath,a=e.active,i=e.calledDraw;if(!0===n&&!1===i){var l=U(this.props.data,this.props.config);this.props.setStats(l)}return a&&r.a.createElement("svg",{id:"chart",style:{position:"absolute",top:0,left:t?"10pt":"25%",width:"100%",height:"100%"}})}}]),t}(r.a.Component),G=Object(f.b)(function(e){return{called:e.called.setData,points:e.points,isFullSize:!e.menu.active,drawPath:e.draw,data:e.data,active:"chart"===e.main,config:e.loading,calledDraw:e.called.setStats}},function(e){return{setData:function(t){return e(function(e){return{type:"SET_DATA",data:e}}(t))},setStats:function(t){return e(function(e){return{type:"SET_STATS",data:e}}(t))}}})(z),F=n(19),V=n(41),Y=function(e){var t=e.name;return r.a.createElement(F.a,{name:t,render:function(e){var t=e.field;return r.a.createElement("input",Object.assign({},t,{type:"number",style:{width:t.value?String(String(t.value).length/2+.5)+"rem":"1rem"}}))}})},H=function(){return null},X=function(e){var t=e.name;return r.a.createElement(F.a,{name:t,render:function(e){var t=e.field;return r.a.createElement("input",Object.assign({},t,{type:"text",style:{width:t.value?String(String(t.value).length/2+.5)+"rem":"1rem",position:"absolute",right:"10%"}}))}})},W=function(e){var t=e.name,n=e.isTruck;return r.a.createElement(F.a,{name:t,render:function(e){var t=e.field;return r.a.createElement("input",Object.assign({},t,{type:"number",style:{width:t.value?String(String(t.value).length/2+.5)+"rem":n?"4.5rem":"3.5rem",position:"absolute",right:"50%"},placeholder:n?"capacity":"volume"}))}})},Q=V.object().shape({x:V.number().required(),y:V.number().required(),value:V.string().matches(/^\d+$/).required()}),B=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleTouch=n.handleTouch.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleTouch",value:function(e){e.preventDefault(),this.props.isLast&&this.props.Add(this.props.isTruck)}},{key:"render",value:function(){var e=this,t=this.props,n=t.x,a=t.y,i=t.value,l=t.Delete,c=t.id,o=t.isLast,u=t.Update,s=t.clearCalled,d=t.name,p=t.isTruck;return r.a.createElement(F.c,{initialValues:{x:n,y:a,name:d,value:i},validationSchema:Q,onSubmit:function(){}},function(t){var n=t.errors,a=t.touched,i=t.values;return!Object.keys(n).length&&(a.x||a.y||a.name||a.value)&&(u(i.x,i.y,i.value,i.name,c),s()),r.a.createElement(F.b,null,r.a.createElement("div",{className:"control  has-icons-right",onClick:e.handleTouch,style:{clipPath:o?"polygon(0 0, 100% 0, 100% 70%, 0 70%)":""}},r.a.createElement("div",{className:n.x&&a.x||n.y&&a.y||n.value&&a.value?"input is-danger":p?"input is-warning":"input is-link"},"(",r.a.createElement(Y,{name:"x"}),",",r.a.createElement(Y,{name:"y"}),")",r.a.createElement(W,{name:"value",isTruck:p}),r.a.createElement(X,{name:"name"})),!o&&[r.a.createElement("span",{className:"icon is-small is-right","data-tip":p?"DELETE T"+String(c+1):"DELETE P"+String(c+1)},r.a.createElement("button",{className:"delete",onClick:function(){l(c)}}))]))})}}]),t}(r.a.Component),J=Object(f.b)(null,function(e){return{Delete:function(t){return e(E("DELETE",null,null,null,null,null,t))},Add:function(t){return e(E("ADD",null,null,null,null,t))},Update:function(t,n,a,r,i){return e(E("UPDATE",t,n,a,r,null,i))},clearCalled:function(){return e(O("DATA"))}}})(B),$=n(30),K=n(62),Z=n(18),ee=n.n(Z),te=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).generateRandomPoint=n.generateRandomPoint.bind(Object(h.a)(n)),n.generateRandomPair=n.generateRandomPair.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"generateRandomPoint",value:function(){var e=this.props,t=e.max,n=e.Add,a=e.clearCalled,r=e.isTruck,i=this.generateRandomPair(Math.floor(t*Math.random()),Math.floor(t*Math.random())),l=r?Math.floor(20*Math.random())+10:Math.floor(10*Math.random())+1;n(i.x,i.y,l,r),a()}},{key:"generateRandomPair",value:function(e,t){var n=this.props,a=n.points,r=n.max;return a.filter(function(n){return n.x===e&&n.y===t}).length?this.generateRandomPair(3+Math.floor(r*Math.random()),3+Math.floor(r*Math.random())):{x:e,y:t}}},{key:"render",value:function(){var e=this.props,t=e.active,n=e.isTruck;return t?r.a.createElement("p",{className:"menu-label",style:{textAlign:"right",paddingRight:"10px"}}," .",r.a.createElement("span",{style:{position:"absolute",cursor:"pointer",fontSize:"10pt",left:"5%"},"data-tip":n?"Generate Random Truck":"Generate Random Parcel",onClick:this.generateRandomPoint},r.a.createElement(K.a,{icon:"random",size:"lg"})),r.a.createElement("span",{style:{position:"absolute",right:"50%"}},n?"trucks":"parcels"),r.a.createElement(ee.a,{place:"right",type:"dark",effect:"float"})):null}}]),t}(r.a.Component),ne=Object(f.b)(function(e){var t=e.points.filter(function(e){return e.x&&e.y}).length,n=Math.max.apply(Math,Object($.a)(e.points.filter(function(e){return e.x&&e.y}).map(function(e){return e.x}))),a=Math.max.apply(Math,Object($.a)(e.points.filter(function(e){return e.x&&e.y}).map(function(e){return e.y})));return{max:t?n>a?n:a:10,points:e.points,deleted:e.called.delete}},function(e){return{Add:function(t,n,a,r){return e(E("ADD",t,n,a,null,r))},clearCalled:function(){return e(O("DATA"))}}})(te),ae=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.points,n=e.deleted,a=e.clearDelete,i=e.active,l=e.isTruck;return n&&l?(a(),null):[r.a.createElement(ne,{active:i,isTruck:l}),i?r.a.createElement("ul",{className:"menu-list"},r.a.createElement("li",null,t.map(function(e,n){if(e.isTruck===l){var a=t.filter(function(e){return e.isTruck===l});return r.a.createElement(J,Object.assign({},e,{isLast:a[a.length-1].id===e.id,isTruck:l}))}}))):null]}}]),t}(r.a.Component),re=Object(f.b)(function(e){return{active:e.menu.active,points:e.points,deleted:e.called.delete}},function(e){return{clearDelete:function(){return e(O("DELETE"))}}})(ae),ie=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("aside",{className:"menu",style:{position:"absolute",height:"100%",width:"25%"}},r.a.createElement(re,{isTruck:!1}),r.a.createElement(re,{isTruck:!0}))}}]),t}(r.a.Component),le=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return[r.a.createElement("li",{"data-tip":this.props.active?"ERASE PATH":"DRAW PATH",onClick:function(){e.props.active&&e.props.clearCalled(),e.props.draw()},"data-for":"draw"},r.a.createElement("a",null,"Run Experiment")),r.a.createElement(ee.a,{id:"draw",place:"top",type:"dark",effect:"float"})]}}]),t}(r.a.Component),ce=Object(f.b)(function(e){return{active:e.draw}},function(e){return{draw:function(){return e({type:"DRAW"})},clearCalled:function(){return e(O("STATS"))}}})(le),oe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return[r.a.createElement("li",{"data-tip":this.props.active?"CLOSE MENU":"OPEN MENU","data-for":"menu",onClick:function(){return e.props.toggleMenuActive()}},r.a.createElement("a",null,"Menu")),r.a.createElement(ee.a,{id:"menu",place:"top",type:"dark",effect:"float"})]}}]),t}(r.a.Component),ue=Object(f.b)(function(e){return{active:e.menu.active}},function(e){return{toggleMenuActive:function(){return e(g("ACTIVE"))}}})(oe),se=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("li",null,r.a.createElement("a",null,r.a.createElement("select",{style:{WebkitAppearance:"none",MozAppearance:"none",background:"none",outline:"none",border:"none",fontSize:"inherit"},id:"router"},r.a.createElement("option",null,"Select Routing Algorithm"),r.a.createElement("option",null," Unordered "),r.a.createElement("option",null," Naive "),r.a.createElement("option",null," Random "),r.a.createElement("option",null," Greedy "))))}}]),t}(r.a.Component),de=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(){var e=this.props,t=e.active,n=e.toggleMain;n(t?"CHART":"LOADING")}},{key:"render",value:function(){return r.a.createElement("li",{onClick:this.handleClick},r.a.createElement("a",null,"Select Loading Algorithm"))}}]),t}(r.a.Component),pe=Object(f.b)(function(e){return{active:"loading"===e.main}},function(e){return{toggleMain:function(t){return e(j(t))}}})(de),he=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("li",{onClick:function(){e.props.toggleStatsView(),e.props.menuOff()}},r.a.createElement("a",null," Stats "))}}]),t}(r.a.Component),me=Object(f.b)(null,function(e){return{toggleStatsView:function(){return e(j("STATS"))},menuOff:function(){return e(g("OFF"))}}})(he),fe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.active&&r.a.createElement("section",{className:"hero is-light is-fullheight"},r.a.createElement("div",{className:"hero-head"}),r.a.createElement("div",{className:"hero-body"}),r.a.createElement("div",{className:"hero-foot"},r.a.createElement("nav",{className:"tabs is-boxed is-fullwidth"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{style:{backgroundColor:"white"}},r.a.createElement(ue,null),r.a.createElement(pe,null),r.a.createElement(se,null),r.a.createElement(ce,null),r.a.createElement(me,null))))))}}]),t}(r.a.Component),ve=Object(f.b)(function(e){return{active:!("stats"===e.main)}})(fe),ye=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={isGreedy:1===n.selectedToIndices()[0]},n.handleAlgorithmSelection=n.handleAlgorithmSelection.bind(Object(h.a)(n)),n.selectedToIndices=n.selectedToIndices.bind(Object(h.a)(n)),n.handlePPSelection=n.handlePPSelection.bind(Object(h.a)(n)),n.handlePOSelection=n.handlePOSelection.bind(Object(h.a)(n)),n.handleTOSelection=n.handleTOSelection.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector("#algorithm"),t=this.selectedToIndices();if(e.selectedIndex=t[0],1===t[0]){var n=document.querySelector("#parcelPriority"),a=document.querySelector("#parcelOrder"),r=document.querySelector("#truckOrder");console.log(t),n.selectedIndex=t[1],a.selectedIndex=t[2],r.selectedIndex=t[3]}}},{key:"selectedToIndices",value:function(){var e=this.props.selected,t=[];switch(e.algorithm){case"greedy":t.push(1);break;case"random":t.push(2);break;default:t.push(0)}switch(e.parcelPriority){case"destination":t.push(1);break;default:t.push(0)}switch(e.parcelOrder){case"non-decreasing":t.push(1);break;default:t.push(0)}switch(e.truckOrder){case"non-decreasing":t.push(1);break;default:t.push(0)}return t}},{key:"indicesToSelected",value:function(){}},{key:"handleAlgorithmSelection",value:function(e){switch(1===e.target.selectedIndex?this.setState({isGreedy:!0}):this.setState({isGreedy:!1}),e.target.selectedIndex){case 1:this.props.setAL("greedy");break;case 2:this.props.setAL("random");break;default:this.props.setAL("default")}}},{key:"handlePPSelection",value:function(e){switch(e.target.selectedIndex){case 1:this.props.setPP("destination");break;default:this.props.setPP("volume")}}},{key:"handlePOSelection",value:function(e){switch(e.target.selectedIndex){case 1:this.props.setPO("non-decreasing");break;default:this.props.setPO("non-increasing")}}},{key:"handleTOSelection",value:function(e){switch(e.target.selectedIndex){case 1:this.props.setTO("non-decreasing");break;default:this.props.setTO("non-increasing")}}},{key:"render",value:function(){var e=this.props,t=e.isFullSize,n=e.active,a=e.close;return r.a.createElement("div",{style:{position:"absolute",top:0,left:t?"10pt":"25%",width:"100%",height:"100%",display:n?"block":"none"}},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"subtitle"},"Select Loading Algorithm"),r.a.createElement("div",{className:"select"},r.a.createElement("select",{onChange:this.handleAlgorithmSelection,id:"algorithm"},r.a.createElement("option",null,"default"),r.a.createElement("option",null,"greedy"),r.a.createElement("option",null,"random")))),this.state.isGreedy&&r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"subtitle"},"Select Configurations"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Parcel Priority"),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"select"},r.a.createElement("select",{id:"parcelPriority",onChange:this.handlePPSelection},r.a.createElement("option",null," volume "),r.a.createElement("option",null," destination "))))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Parcel Order"),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"select"},r.a.createElement("select",{id:"parcelOrder",onChange:this.handlePOSelection},r.a.createElement("option",null," non-increasing "),r.a.createElement("option",null," non-decreasing "))))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Truck Order"),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"select"},r.a.createElement("select",{id:"truckOrder",onChange:this.handleTOSelection},r.a.createElement("option",null," non-increasing "),r.a.createElement("option",null," non-decreasing ")))))),r.a.createElement("div",{className:"button is-primary",onClick:function(){return a()}},"save changes"))}}]),t}(r.a.Component),be=Object(f.b)(function(e){return{active:"loading"===e.main,isFullSize:!e.menu.active,selected:e.loading}},function(e){return{setAL:function(t){return e(k("AL",t))},setPP:function(t){return e(k("PP",t))},setPO:function(t){return e(k("PO",t))},setTO:function(t){return e(k("TO",t))},close:function(){return e(j("CHART"))}}})(ye),Ee=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("a",{"data-tip":"return","data-for":"return",className:"button is-primary is-rounded",onClick:function(){e.props.toggleStatsView(),e.props.menuOn()}},r.a.createElement(K.a,{icon:"arrow-left",size:"lg"})),r.a.createElement(ee.a,{id:"return",place:"left",type:"success",effect:"float"})))))}}]),t}(r.a.Component),ge=Object(f.b)(null,function(e){return{toggleStatsView:function(){return e(j("CHART"))},menuOn:function(){return e(g("ON"))}}})(Ee),Oe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cities,n=e.parcels,a=e.trucks,i=e.algorithm,l=e.loadingConfig,c=e.extra,o=e.time,u=e.Delete;return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"title"},"Experiment at ",o.toLocaleString()),r.a.createElement("button",{className:"delete",style:{position:"absolute",top:"1rem",right:"1rem"},"data-tip":"delete experiment","data-for":"delete",onClick:function(){return u(o)}}),r.a.createElement(ee.a,{id:"delete",place:"left",type:"dark",effect:"float"}),r.a.createElement("table",{className:"table",style:{display:"inline-table",marginRight:"1rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Algorithm "))),r.a.createElement("tbody",null,"greedy"===l.algorithm&&r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null," Parcel Priority "),r.a.createElement("th",null," Parcel Order "),r.a.createElement("th",null," Truck Order ")),r.a.createElement("tr",null,r.a.createElement("th",{title:"loading"}," loading "),"greedy"===l.algorithm?[r.a.createElement("td",null," ",l.algorithm),r.a.createElement("td",null," ",l.parcelPriority," "),r.a.createElement("td",null,l.parcelOrder," "),r.a.createElement("td",null," ",l.truckOrder)]:r.a.createElement("td",null," ",l.algorithm," ")),r.a.createElement("tr",null,r.a.createElement("th",{title:"routing"}," routing "),r.a.createElement("td",{title:"routing"}," ",i||"unordered"," ")))),r.a.createElement("table",{className:"table",style:{display:"inline-table",marginRight:"1rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Cities "))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"name"},"name"),r.a.createElement("th",{title:"x"},"x"),r.a.createElement("th",{title:"y"},"y")),t.map(function(e){return r.a.createElement("tr",null,r.a.createElement("th",{title:"name"}," ",e.name," "),r.a.createElement("td",{title:"x"}," ",e.x," "),r.a.createElement("td",{title:"y"}," ",e.y," "))}))),r.a.createElement("table",{className:"table",style:{display:"inline-table",marginRight:"1rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Parcels "))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"id"}," id "),r.a.createElement("th",{title:"destination"}," destination "),r.a.createElement("th",{title:"volume"}," volume "),r.a.createElement("th",null," unloaded ")),n.map(function(e){return r.a.createElement("tr",null,r.a.createElement("th",{title:"id"}," P",e.pid," "),r.a.createElement("td",{title:"destination"}," ",e.destination," "),r.a.createElement("td",{title:"volume"}," ",e.volume," "),c.map(function(e){return e.pid}).includes(e.pid)&&r.a.createElement("th",null," * "))}))),r.a.createElement("table",{className:"table",style:{display:"inline-table",marginRight:"1rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Trucks "))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{title:"id"}," id "),r.a.createElement("th",{title:"location"}," depot location "),r.a.createElement("th",{title:"volume"}," volume "),r.a.createElement("th",{title:"capacity"}," capacity "),r.a.createElement("th",{title:"fullness"}," fullness "),r.a.createElement("th",{title:"distance"}," total distance "),r.a.createElement("th",{title:"parcels"}," parcels "),r.a.createElement("th",{title:"route"}," route ")),a.map(function(e){return r.a.createElement("tr",null,r.a.createElement("th",{title:"id"}," T",e.tid," "),r.a.createElement("td",{title:"location"}," ",e.depotLocation," "),r.a.createElement("td",{title:"volume"}," ",e.volume," "),r.a.createElement("td",{title:"capacity"}," ",e.capacity," "),r.a.createElement("td",{title:"fullness"}," ",Math.round(100*e.volume/e.capacity),"% "),r.a.createElement("td",{title:"distance"},e.parcels.length?Math.round(e.totalDistance(e.parcels)):0),r.a.createElement("th",{title:"parcels"}," ",e.parcels.map(function(t,n){return n===e.parcels.length-1?"P"+t.pid:"P"+t.pid+", "})," "),r.a.createElement("td",{title:"route"}," ",e.route.map(function(t,n){return e.route.length-1===n?t.destination:t.destination+" \u2192 "})," "))}))))}}]),t}(r.a.Component),je=Object(f.b)(null,function(e){return{Delete:function(t){return e(function(e){return{type:"DELETE_EXPERIMENT",time:e}}(t))}}})(Oe),ke=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.stats;return e.length?r.a.createElement("div",{className:"container"},e.map(function(e){return r.a.createElement(je,e)})):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"title is-danger"},"You have no ",r.a.createElement("strong",null,"experiment")," statistics"))}}]),t}(r.a.Component),we=Object(f.b)(function(e){return{stats:e.stats}})(ke),Te=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.active&&[r.a.createElement(ge,null),r.a.createElement(we,null)]}}]),t}(r.a.Component),_e=Object(f.b)(function(e){return{active:"stats"===e.main}})(Te),Pe=(n(302),n(64));n(46).b.add(Pe.c,Pe.a,Pe.b);var Se=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(H,null),r.a.createElement(ie,null),r.a.createElement(_e,null),r.a.createElement(G,null),r.a.createElement(be,null),r.a.createElement(ve,null))}}]),t}(r.a.Component),xe=n(39),Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{x:void 0,y:void 0,name:"City_3",id:2,isTruck:!1,value:void 0},{x:void 0,y:void 0,name:"City_4",id:3,isTruck:!1,value:void 0},{x:void 0,y:void 0,name:"City_1",id:0,isTruck:!0,value:void 0},{x:void 0,y:void 0,name:"City_2",id:1,isTruck:!0,value:void 0}],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_POINT":return e.length>2?e.filter(function(e){return!(e.id===t.id)}):e;case"UPDATE_POINT":var n=t.id,a=t.x,r=t.y,i=t.name,l=t.value,c={x:a,y:r,name:i,id:n,value:l};return e.map(function(e){return e.id===n?Object(p.a)({},e,c):e});case"ADD_POINT":return[].concat(Object($.a)(e),[{x:t.x,y:t.y,value:t.value,name:"City_"+t.id,id:t.id,isTruck:t.isTruck}]);default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{active:!0};switch((arguments.length>1?arguments[1]:void 0).type){case"MENU_ACTIVE":return Object(p.a)({},e,{active:!e.active});case"MENU_ON":return Object(p.a)({},e,{active:!0});case"MENU_OFF":return Object(p.a)({},e,{active:!1});default:return e}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"DRAW":return!e;default:return e}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA":return t.data;default:return e}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{setData:!1,delete:!1,setStats:!1};switch((arguments.length>1?arguments[1]:void 0).type){case"DELETE_POINT":return Object(p.a)({},e,{delete:!0});case"SET_DATA":return Object(p.a)({},e,{setData:!0});case"CLEAR_DATA":return Object(p.a)({},e,{setData:!1});case"CLEAR_DELETE":return Object(p.a)({},e,{delete:!1});case"SET_STATS":return Object(p.a)({},e,{setStats:!0});case"CLEAR_STATS":return Object(p.a)({},e,{setStats:!1});default:return e}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"chart";switch((arguments.length>1?arguments[1]:void 0).type){case"CHART":return"chart";case"LOADING":return"loading";case"STATS":return"stats";default:return e}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{algorithm:"default",parcelPriority:"volume",parcelOrder:"non-increasing",truckOrder:"non-increasing"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AL":return Object(p.a)({},e,{algorithm:t.value});case"PP":return Object(p.a)({},e,{parcelPriority:t.value});case"PO":return Object(p.a)({},e,{parcelOrder:t.value});case"TO":return Object(p.a)({},e,{truckOrder:t.value});default:return e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STATS":return[].concat(Object($.a)(e),[t.data]);case"DELETE_EXPERIMENT":return e.filter(function(e){return!e.time===t.time});default:return e}},qe=Object(xe.b)({points:Ae,menu:Ne,draw:Ce,data:De,called:Me,main:Re,loading:Le,stats:Ie}),Ue=Object(xe.c)(qe);l.a.render(r.a.createElement(f.a,{store:Ue},r.a.createElement(Se,null)),document.getElementById("root"))},48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.priority=e,this._queue=[]}return e.prototype.remove=function(){return this._queue.pop()},e.prototype.add=function(e){if(this.isEmpty())this._queue.push(e);else{for(var t=0;t<this._queue.length;t++)if(!this.priority(e,this._queue[t]))return void this._queue.splice(t,0,e);this._queue.push(e)}},e.prototype.isEmpty=function(){return!this._queue.length},e.prototype.getQueue=function(){return this._queue},e}();t.default=a},49:function(e,t,n){"use strict";var a=this&&this.__values||function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return l},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(48)),c=function(){function e(e){this.trucks=e}return e.prototype.schedule=function(){var e,t,n,r=[];try{for(var i=a(this.parcels),l=i.next();!l.done;l=i.next())n=l.value,this.parcelIntoTrucks(n,this.trucks)&&r.push(n)}catch(c){e={error:c}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},e.prototype.parcelIntoTrucks=function(e,t){var n,r;try{for(var i=a(t),l=i.next();!l.done;l=i.next())if("string"!==typeof l.value.fillTruck(e))return}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e},e.prototype.route=function(e,t,n,a){switch(t){case"RANDOM":return this.random(e,a);case"NAIVE":if(!n)throw new TypeError("param truck is undefined");return this.naive(e,n);case"GREEDY":if(!n)throw new TypeError("param truck is undefined");return this.greedy(e,n);default:return e}},e.prototype.random=function(e,t){return this.shuffle(e,t)},e.prototype.shuffle=function(e,t){var a;n(147)(t,{global:!0});for(var i=e.length-1;i>0;i--){var l=Math.floor(Math.random()*(i+1));a=r([e[l],e[i]],2),e[i]=a[0],e[l]=a[1]}return e},e.prototype.naive=function(e,t){return function e(t){for(var n=[],a=0;a<t.length;a+=1){var r=e(t.slice(0,a).concat(t.slice(a+1)));if(r.length)for(var i=0;i<r.length;i+=1)n.push([t[a]].concat(r[i]));else n.push([t[a]])}return n}(e).reduce(function(e,n){return t.totalDistance(e)<=t.totalDistance(n)?e:n})},e.prototype.greedy=function(e,t){var n=t.depotLocation,a=e.map(function(e){return e.destination}),r=t.dm.nearestNeighbour(n,a),i=[];for(i.push(r);1!==a.length;)n=r,a=a.filter(function(e){return!(e===n)}),r=t.dm.nearestNeighbour(n,a),i.push(r);var c=new l.default(function(e,t){return i.indexOf(e.destination)>=i.indexOf(t.destination)});return e.forEach(function(e){return c.add(e)}),c.getQueue()},e}();t.default=c},65:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this._map={}}return e.prototype.store=function(e,t,n){e in this._map?this._map[e].filter(function(e){return e[0]===t}).length?this._map[e].splice(this._map[e].map(function(e){return e[0]===t}).indexOf(!0),1,[t,n]):this._map[e].push([t,n]):this._map[e]=[[t,n]]},e.prototype.lookup=function(e,t){if(e===t)return 0;if(!this._map[e])return-1;var n=this._map[e].filter(function(e){return e[0]===t});return n.length?n[0][1]:-1},e.prototype.deliveryDistance=function(e){if(e.length){for(var t=0,n=0;n<e.length-1;n++){var a=n+1;t+=this.lookup(e[n],e[a])}return t}return 0},e.prototype.nearestNeighbour=function(e,t){var n=this;return this._map[e].reduce(function(a,r){return t.includes(r[0])?-1===n.lookup(e,a)?r[0]:n.lookup(e,r[0])<=n.lookup(e,a)?r[0]:a:a},t.includes(this._map[e][0][0])?this._map[e][0][0]:"")},e}();t.default=a},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n){void 0===n&&(n=""),this.x=e,this.y=t,this.name=n}return e.prototype.distance=function(e){return Math.round(100*Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)))/100},e.prototype.equals=function(t){return t instanceof e&&(t.x===this.x&&t.y===this.y&&t.name===this.name)},e}();t.default=a},86:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(65)),i=function(){function e(){this.cities=[]}return e.prototype.transformToDistanceMap=function(){var e=this,t=new r.default;return this.cities.map(function(n){e.cities.map(function(e){n.equals(e)||t.store(n.name,e.name,n.distance(e))})}),t},e}();t.default=i},87:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,a){this.pid=e,this.origin=t,this.destination=n,this.volume=a}return e.prototype.getDistance=function(e){return e.lookup(this.origin,this.destination)},e.prototype.leq=function(t){if(!(t instanceof e))throw new TypeError("incompatible types");return"volume"===this.priority?this.volume<=t.volume:"destination"===this.priority?this.destination.charCodeAt(0)<=t.destination.charCodeAt(0):void 0},e.prototype.geq=function(t){if(!(t instanceof e))throw new TypeError("incompatible types");return"volume"===this.priority?this.volume>=t.volume:"destination"===this.priority?this.destination.charCodeAt(0)>=t.destination.charCodeAt(0):void 0},e}();t.default=a},88:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,a){this.tid=e,this.depotLocation=t,this.capacity=n,this.parcels=[],this.volume=0,this.dm=a,this.route=[]}return e.prototype.fillTruck=function(e){if(!(e.volume+this.volume<=this.capacity))return e.destination;this.parcels.push(e),this.volume+=e.volume},e.prototype.totalDistance=function(e){return this.dm.deliveryDistance(e.map(function(e){return e.destination}))+this.dm.lookup(this.depotLocation,e[0].destination)+this.dm.lookup(e[e.length-1].destination,this.depotLocation)},e.prototype.leq=function(t){if(t instanceof e)return this.volume<=t.volume;throw new TypeError("incompatible types")},e.prototype.geq=function(t){if(t instanceof e)return this.volume>=t.volume;throw new TypeError("incompatible types")},e}();t.default=a},89:function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),r=this&&this.__values||function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t,n,a){void 0===a&&(a=!1);var r=e.call(this,n)||this;return r.verbose=!1,r.parcels=t,r.verbose=a,r}return a(t,e),t.prototype.schedule=function(e){var t,n,a,i=[],l=this.shuffle(this.parcels,e);try{for(var c=r(l),o=c.next();!o.done;o=c.next())a=o.value,this.parcelIntoTrucks(a,this.trucks)&&i.push(a)}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return i},t}(i(n(49)).default);t.default=l},90:function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(49)),l=r(n(48)),c=function(e){function t(t,n,a,r,i,c){void 0===c&&(c=!1);var o=e.call(this,n)||this;o.truckOrder=i,o.verbose=c;var u=new l.default(o.getPriority(r));return t.map(function(e){e.priority=a,u.add(e)}),o.parcels=u,o}return a(t,e),t.prototype.schedule=function(){var e=new l.default(this.getPriority(this.truckOrder));this.trucks.map(function(t){return e.add(t)});for(var t=e.remove();!this.parcels.isEmpty();){var n=this.parcels.remove();if(t.fillTruck(n)){if(this.parcels.add(n),e.isEmpty())break;t=e.remove()}}return this.parcels.getQueue()},t.prototype.getPriority=function(e){return"non-increasing"!==e?function(e,t){return e.leq(t)}:function(e,t){return e.geq(t)}},t}(i.default);t.default=c}},[[137,1,2]]]);
//# sourceMappingURL=main.c1d8d138.chunk.js.map